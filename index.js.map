{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"52494902-684cb5c524c2ed0eff7de14af\";\n\nexport function getImagesByQuery(query) {\n  if (!query) return Promise.resolve(null); \n\n  return axios\n    .get(BASE_URL, {\n      params: {\n        key: API_KEY,\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n      },\n    })\n    .then(response => response.data) \n    .catch(error => {\n      console.error(\"Error loading images:\", error);\n      return null;\n    });\n}\n","import axios from \"axios\";\nimport { getImagesByQuery } from \"./pixabay-api\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector(\".gallery\");\n\nconst lightbox = new SimpleLightbox(\".gallery a\", {\n  captions: true,\n  captionsData: \"alt\",\n  captionDelay: 250,\n});\n\nexport function createGallery(images) {\n  clearGallery();\n\n  const fragment = document.createDocumentFragment();\n\n  images.forEach(img => {\n    const li = document.createElement(\"li\");\n    li.classList.add(\"gallery-item\");\n\n    const link = document.createElement(\"a\");\n    link.href = img.largeImageURL;\n    link.classList.add(\"gallery-link\");\n\n    const image = document.createElement(\"img\");\n    image.src = img.webformatURL;\n    image.alt = img.tags;\n    image.classList.add(\"gallery-image\");\n\n    link.appendChild(image);\n    li.appendChild(link);\n\n    const info = document.createElement(\"div\");\n    info.classList.add(\"image-info\");\n    info.innerHTML = `\n      <div class=\"info-item\"><span class=\"label\">Likes</span><span class=\"value\">${img.likes}</span></div>\n      <div class=\"info-item\"><span class=\"label\">Views</span><span class=\"value\">${img.views}</span></div>\n      <div class=\"info-item\"><span class=\"label\">Comments</span><span class=\"value\">${img.comments}</span></div>\n      <div class=\"info-item\"><span class=\"label\">Downloads</span><span class=\"value\">${img.downloads}</span></div>\n    `;\n    li.appendChild(info);\n\n    fragment.appendChild(li);\n  });\n\n  gallery.appendChild(fragment); \n  lightbox.refresh();\n}\n\n\nexport function clearGallery() {\n  gallery.innerHTML = \"\";\n}\n\nconst loader = document.querySelector(\".loader\");\n\nexport function showLoader() {\n  loader.classList.add(\"visible\"); \n}\n\nexport function hideLoader() {\n  loader.classList.remove(\"visible\"); \n}\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { getImagesByQuery } from \"./js/pixabay-api\";\nimport { createGallery, clearGallery, showLoader, hideLoader } from \"./js/render-functions\";\n\nconst form = document.querySelector(\".form\");\n\nform.addEventListener(\"submit\", (e) => {\n  e.preventDefault();\n\n  const query = e.target.elements[\"search-text\"].value.trim();\n  if (!query) {\n    iziToast.warning({\n      title: 'Warning',\n      message: 'Enter a search term!',\n      position: 'topRight'\n    });\n    return;\n  }\n\n  showLoader();          \n  clearGallery();        \n\n  getImagesByQuery(query)\n    .then(data => {\n      if (!data || data.hits.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          message: 'Sorry, there are no images matching your search query. Please, try again!',\n          position: 'topRight'\n        });\n        return;\n      }\n\n      createGallery(data.hits);\n      iziToast.success({\n        title: 'Success',\n        position: 'topRight'\n      });\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: 'Something went wrong. Try again!',\n        position: 'topRight'\n      });\n      console.error(error);\n    })\n    .finally(() => {\n      hideLoader();\n    });\n});\n"],"names":["BASE_URL","API_KEY","getImagesByQuery","query","axios","response","error","gallery","lightbox","SimpleLightbox","createGallery","images","clearGallery","fragment","img","li","link","image","info","loader","showLoader","hideLoader","form","e","iziToast","data"],"mappings":"+vBAEA,MAAMA,EAAW,2BACXC,EAAU,qCAET,SAASC,EAAiBC,EAAO,CACtC,OAAKA,EAEEC,EACJ,IAAIJ,EAAU,CACb,OAAQ,CACN,IAAKC,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACP,CAAK,EACA,KAAKE,GAAYA,EAAS,IAAI,EAC9B,MAAMC,IACL,QAAQ,MAAM,wBAAyBA,CAAK,EACrC,KACR,EAhBgB,QAAQ,QAAQ,IAAI,CAiBzC,CClBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAW,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CACpCC,IAEA,MAAMC,EAAW,SAAS,yBAE1BF,EAAO,QAAQG,GAAO,CACpB,MAAMC,EAAK,SAAS,cAAc,IAAI,EACtCA,EAAG,UAAU,IAAI,cAAc,EAE/B,MAAMC,EAAO,SAAS,cAAc,GAAG,EACvCA,EAAK,KAAOF,EAAI,cAChBE,EAAK,UAAU,IAAI,cAAc,EAEjC,MAAMC,EAAQ,SAAS,cAAc,KAAK,EAC1CA,EAAM,IAAMH,EAAI,aAChBG,EAAM,IAAMH,EAAI,KAChBG,EAAM,UAAU,IAAI,eAAe,EAEnCD,EAAK,YAAYC,CAAK,EACtBF,EAAG,YAAYC,CAAI,EAEnB,MAAME,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,YAAY,EAC/BA,EAAK,UAAY;AAAA,mFAC8DJ,EAAI,KAAK;AAAA,mFACTA,EAAI,KAAK;AAAA,sFACNA,EAAI,QAAQ;AAAA,uFACXA,EAAI,SAAS;AAAA,MAEhGC,EAAG,YAAYG,CAAI,EAEnBL,EAAS,YAAYE,CAAE,CAC3B,CAAG,EAEDR,EAAQ,YAAYM,CAAQ,EAC5BL,EAAS,QAAO,CAClB,CAGO,SAASI,GAAe,CAC7BL,EAAQ,UAAY,EACtB,CAEA,MAAMY,EAAS,SAAS,cAAc,SAAS,EAExC,SAASC,GAAa,CAC3BD,EAAO,UAAU,IAAI,SAAS,CAChC,CAEO,SAASE,GAAa,CAC3BF,EAAO,UAAU,OAAO,SAAS,CACnC,CC1DA,MAAMG,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAWC,GAAM,CACrCA,EAAE,eAAc,EAEhB,MAAMpB,EAAQoB,EAAE,OAAO,SAAS,aAAa,EAAE,MAAM,OACrD,GAAI,CAACpB,EAAO,CACVqB,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,uBACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDJ,IACAR,IAEAV,EAAiBC,CAAK,EACnB,KAAKsB,GAAQ,CACZ,GAAI,CAACA,GAAQA,EAAK,KAAK,SAAW,EAAG,CACnCD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,4EACT,SAAU,UACpB,CAAS,EACD,MACD,CAEDd,EAAce,EAAK,IAAI,EACvBD,EAAS,QAAQ,CACf,MAAO,UACP,SAAU,UAClB,CAAO,CACP,CAAK,EACA,MAAMlB,GAAS,CACdkB,EAAS,MAAM,CACb,MAAO,QACP,QAAS,mCACT,SAAU,UAClB,CAAO,EACD,QAAQ,MAAMlB,CAAK,CACzB,CAAK,EACA,QAAQ,IAAM,CACbe,GACN,CAAK,CACL,CAAC"}